# Be a library developer!
http://rubykaigi.org/2013/talk/S94


## 概要

須藤さんの発表ではRubyらしさについて話されていました。
たとえばRubyらしいことでなにがいいの？という問いに対していくつかの答えを表していました
* 直感的にRubyのコードをかけるほうがいいと思う
* 他のところとにている
* 一貫性があると場合ごとに考えを変えなくて住む
 * 一貫性を保つことでメンテナンスがしやすくなる
ということがあげられました。

良いコードを想像するのは難しいが、思い出すことはそんなに難しくなく、周りに聞いたり今あるライブラリを見ることで良いコードを書く


-----

（まだ途中です）

# ktou

RubyKaigi 2013三日目 11時にホールAで行われた
須藤([@ktou](https://twitter.com/ktou))さんの発表

## 良いソフトウェア開発を知っている
須藤さんは発表中に「私たちは『良いソフトウェア』の開発の仕方をしっている」と発表していた。
ひとつの身近なコードを例としてあげていて

```
context.save
context.circle(50, 50, 50)
context.stroke
context.restoke
```

この短いコードの中で`context.save`と`context.restore`に注目してみると

```
context.save do
  context.circle(50, 50, 50)
  context.stroke
end
```

こんなかんじで書けると良い。
なぜ良いか、はそれがRuby-ish(Rubyぽい)からで、この書き方は他にも同様に見られる

## Rubyぽい

「Rubyぽい」ことはつまり他と似ている。
似ていると何がいいか。それは一貫性があると場合ごとに考えを変えなくて住む
読みやすくなるのが重要なのかでそれは須藤さんがリーダブルコードの巻末に書かれたことでもある
また同じようなコードになるのでコードの本質に集中することができてメンテナンスがしやいのでよい

## もう一歩踏み込んで

私たちがよく使うFileクラス、これもひとつの例を上げるなら

```
# Setup
file = File.open(path)
file.read
# Teardown
file.close
```

```
# Setup
File.open(path) do |file|
  file.read
end # Teardown
```

こう書くことができて、最初に出てきたcairoのコードでも同じことが言える。

##

Ruby-ishというのを他の言葉で伝えると「他と似ている」


##

Rubyぽい(Ruby-ish)コードについて話して居て、普段僕が書くコードがRubyぽいかどうかを再確認するような発表だった。

まつもとさんが「言語をつくると良いコードが書けるようになる」と言っていたが、須藤さんは「ライブラリをつくると良いコードがかけるようになる」と言っていたのが印象的でした。

須藤さんはリーダブルコードの巻末の文章を寄稿されていて、その内容を思い出しながら僕はこの発表を聞いていた。
今回の話はそのリーダブルコードに続く話だと思いながら聞いていた。


### メモ
言語をつくるとよいコードをかける
須藤さんはらいぶらりを作るといいコードがかける

みなさんが良いソフトウェアとるつくる方法をしる
良いソフトウェアでひとつあって、
rcairo
saveとrestoreに注目してみるとdo endにしてみるとよい
なぜよいのか？
なぜならばそのほうがRubyらしい
直感的にRubyのコードをかけるほうがいいと思う
RubyのコードにJavaみたいなコードになる
他のところとにている

似ていることがいいことはなんでいおいのか？
一貫性があると場合ごとに考えを変えなくて住む
読みやすくなるのが重要なのか？
メンテナンスがしやいのでよい

大体のソフトウェアは一発で良いコードはかけないから繰り返しコードを書いてってよみいやすくしていく

だからRubyらしいことはいい。

その体で据えます

Openが前処理をしているところ

closeし忘れることがなくなる
後始末をなにをしなければならないかを意識にしなくすむ

Saveが前処理で

よりよいことはRubyらしいこと
それは他と似ていること
Rubyと似ていること
何と似ているかをみつける

Rememver than Imagin

想像するこは難しい
ナレッジはあるので思い出すことはいい
思い出すためには知っておく必要がある
どうやって知るのか？
実際にやってみるのが1番はやい
知識を聞く
近くにいる人にいて聞いてみる


実際にそれをやってみる

良いいソフトウェアを開発するために
なにを経験するのか？
体験する
Rubyだったらこうやるっていうのを

gtk2
よいAPIは？
window.get_propaty
widow.opacity #better


思い出すのは簡単って言ったけど難しい
Rubuらし

知識とおしては割と揃っているが、経験がないからピンと来ない


ライブラリの開発者
わかりやすいドキュメントかどうか

実際に練習

API
ドキュメント
プロパティ名を考える

なんでもかんでもメソッドにしてもよくない
そのあたりをちゃんと考える

document
