# Fight with Diversity

「多様性は善」—— Perlの「やりかたは一つじゃない (TMTOWTDI)」から引き継いだ、Ruby の世界観を代表するスローガンのひとつ(([Rubyist Magazine - 0015 号 巻頭言](http://magazine.rubyist.net/?0015-ForeWord) によれば、1999 年までにはこのフレーズが登場しているとのこと))です。「生物多様性」という言葉は環境保護の重要なキーワードとして知られます。しかしソフトウェアの世界において、ただ選択肢が多様であることは良いことなのでしょうか。RubyKaigi 最後のセッションとして Ruby コミッタの akr さんが基調講演として語ったのは、Ruby 開発の上で直面した、多様性との格闘でした。

今日のような複雑さが生まれた経緯はまさに「歴史的経緯」と呼ぶほかないのですが、UNIX の歴史と発展は収集のつかない多様性を生みました。そのひとつが、DBM と総称されるアプリケーション組込みの DB ライブラリ((DB と言っても MySQL のような RDBMS ではなく、今日 NoSQL の一種と呼ばれることもある KVS (Key-Value Store) です。現に、例えば KyotoTycoon という分散 KVS は同作者による DBM の実装である KyotoCabinet を基盤としています))です。技術的な要約を試みるのは齟齬が生じかねないので避けますが、この問題は AT&T で開発された最初の dbm が(そして UNIX が)プロプライエタリ(([プロプライエタリ・ソフトウェア - Wikipedia](http://ja.wikipedia.org/wiki/%E3%83%97%E3%83%AD%E3%83%97%E3%83%A9%E3%82%A4%E3%82%A8%E3%82%BF%E3%83%AA%E3%83%BB%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2) を参照。[フリーソフトウェア](http://ja.wikipedia.org/wiki/%E3%83%95%E3%83%AA%E3%83%BC%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2) の対義語。))であったこと、時を経て UNIX 世界が「多様化」したこと、そして多様化の過程で各実装間に互換性への配慮が乏しかったことによります。

akr さんは、この dbm 拡張ライブラリのサポートに関して、検出が可能な限りの多くの OS 及び C ライブラリ環境でのビルド対応に挑戦しました。その過程はさながらパズルのようで、結果として、よほどおかしな構成でない限りほとんどの場合に問題なく自動検出・ビルドできるようになっているようです。

この講演を通して *(RubyKaigi を初め技術系カンファレンスでは別に珍しいことではありませんが)* 淡々と話しているようでいて、非常に楽しそうに自分の成果を発表しているように見えました。実際のところ、この基調講演の話題は難解ではないものの前提とする技術知識が (多くはありませんが) それなりにあり、その用意がある参加者は、おそらく多数派ではなかったでしょう。

一介の技術の好きな人間として、もし私がいつかこのような場を与えられたとき、 akr さんのように自分の挑戦について物怖じせずに、その技術的な意義を理解してくれるであろう人と理解してもらえないかもしれない人たちを前にして、聴衆をエキサイトさせながらあんなに楽しげに自分の成果を **自慢** することができるでしょうか。熱狂の冷めやらぬ中で会場をあとにしながら、記者はそんなことを考えていたのでした。
