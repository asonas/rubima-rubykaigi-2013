# Ruby Archaeology

「Ruby考古学」——発表者の石塚圭樹 (けいじゅ＠いしつか) さんは、世界最初の Ruby 書籍書籍である『オブジェクト指向スクリプト言語 Ruby 』の著書としても知られる、Ruby の名付け親です[Ruby - Wikipedia](http://ja.wikipedia.org/wiki/Ruby) などで "まつもとの同僚の誕生石（7月）のルビーを取って名付けられた" として言及されている「同僚」本人でもあります))。また、現在まで広く使われている IRB の作者です。Ruby が開発された 1993 年、いしつかさんはまつもとゆきひろさんと同じ会社でプログラミング言語の研究職に就いていらっしゃいました。 Ruby の歴史については初日の最初のセッションで高橋征義さんが「The History of Ruby」として紹介していましたが、当事者の立場からの Ruby 開発前史にあたります。

Ruby 誕生の前日までに新しい言語の特徴として現在まで貫かれているコンセプトがいくつも挙げられていました。この時点では「yacc を使用しないシェル風の簡単な構文」が想定されていたようで、「引数を文字列として扱う」「引数区切りはカンマ (,) なし」など、あたかもシェルスクリプトのような言語でした。しかしこの時点で既に、こんにち[ブロック付きメソッド呼び出し](http://doc.ruby-lang.org/ja/2.0.0/doc/spec=2fcall.html#block) と呼ばれるものに相当する「ユーザ定義の制御構文」が検討されていることは特筆すべきでしょう。

言語名が「ruby」と決まったあと具体的な構文の検討が開始され、毎日のように成長していきます。この時点で引数はまだ全て文字列で扱うことになっていたので、 if [a == b] のような構文で引数に式を埋め込めるようになっていました。ほどなくして、誕生から 5 日めには「引数区切りはカンマ (,)」になります。また、当初 PC との互換性のために使用しないことになっていた yacc は、このころ解禁されることになります。

インスタンス変数は当初 obj.iver のように参照するようになっていました。現在の Ruby では [Module#attr_*](http://doc.ruby-lang.org/ja/2.0.0/class/Module.html#I_ATTR) で明示的にアクセサを定義することで同様のアクセスができるようになります。意外なことに、当時は「アクセサの定義は要らないようにしたい」という設計でした。しかしそれは 13 日めまでには撤回され、現在のものに近い仕様になります。

誕生から半年以内に「モジュールの mix-in((Ruby では多重継承をサポートしないが、その代替としてモジュールの Mix-in をサポートする。継承の種類と特徴については、まつもとさんの書かれた [まつもと直伝 プログラミングのオキテ](http://itpro.nikkeibp.co.jp/article/COLUMN/20060825/246409/) の「第3回 多重継承の光と影」を参照))」「private メソッド」「グローバル変数 ($gver), インスタンス変数 (@iver)」など現在と同様なものが登場し、1993 年 8 月 19 日に初めて Ruby が動作したそうです。その後いしつかさんとまつもとさんの転職でメールのやりとりが途切れてしまい、いしつかさんの記録が存在しない「暗黒時代」を経た 1994 年 8 月 10 日にバージョンが ruby 0.50 になりました。開発は進み、やがて 1994 年末には 0.6 に、そして 1995 年 12 月に ruby 0.95 をリリース、ネットニュースで一般公開されました。
